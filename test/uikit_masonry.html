<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IDV</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <!-- UIkit CSS -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,500,500i,600,700,700i,900" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/uikit@3.5.17/dist/css/uikit.min.css" />
    <!-- UIkit JS -->
    <script src="https://cdn.jsdelivr.net/npm/uikit@3.5.17/dist/js/uikit.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/uikit@3.5.17/dist/js/uikit-icons.min.js"></script>
    <style>
        html, body {
            background-color: #eee;
        }
        body {
            font-family: 'Roboto', sans-serif;
            font-weight: 400;
        }
        .gridWrapper {
            padding: 50px;
        }
        .uk-card {
            background: #fff;
            color: #888;
            border-radius: 14px;
            padding: 20px;
        }
        .movieImage {
            width:122px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .movieImage:hover {
            opacity: 0.7;
        }
        .movieTitle {
            width: 125px;
            word-break: break-all;
            white-space: normal;
        }
        .moveWrapper {
            display: inline-block;
            padding: 20px;
            vertical-align: top;
        }
        #scrollWrapper1 {
            overflow-x: auto;
            white-space: nowrap;
        }
        .card-title {
            font-size: 20px;
            font-weight: 500;
            color: 000;
            padding: 14px 0px 0px 14px;
        }
    </style>
    <script>
        currentTrendingURL = "https://api.themoviedb.org/3/discover/movie?api_key=54f244c3bc41ade17bb0dcfd25aab606&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=1";

        $.getJSON(currentTrendingURL, getCurrentlyTrending);

        function getCurrentlyTrending(data) {
            console.log(data);
            for(var i =0; i < 10;i++) {

                poster_path = data['results'][i].poster_path;
                original_title = data['results'][i].original_title;
                movie_id = data['results'][i].id;

                full_backdrop_path = "https://image.tmdb.org/t/p/w600_and_h900_bestv2/" + poster_path;

                console.log(original_title + " " + full_backdrop_path);

                addTrendingToDOM(full_backdrop_path, original_title, movie_id);

            }
        }

        function addTrendingToDOM(backdropURL, movieTitle, movieID) {
            $(document).ready(function() { //do i need this??

                var moveWrapper = document.createElement("div");
                moveWrapper.className = "moveWrapper";

                var title = document.createElement("p");
                title.className = "movieTitle";

                var moviePoster = document.createElement("img");
                moviePoster.className = "movieImage";
                moviePoster.id = movieID;
                moviePoster.setAttribute("onclick","clicktestfunction("+movieID+")");

                document.getElementById("scrollWrapper1").appendChild(moveWrapper);

                title.innerHTML = movieTitle;
                moviePoster.src = backdropURL;

                moveWrapper.appendChild(moviePoster);
                moveWrapper.appendChild(title);

            });
        }

        function clicktestfunction(movieID) {
            alert("The movie ID for this movie is: " + movieID + ". This information can be used to open a pop up window displaying movie description/cast information, etc. Requires additional API call.");

            //New API call for individual movie info when clicked on poster using lightbox system if we have time
            // https://api.themoviedb.org/3/movie/{{MOVIEID}}?api_key=54f244c3bc41ade17bb0dcfd25aab606&language=en-US


        }
    </script>
</head>

<body>
<div class="gridWrapper">
    <div class="uk-child-width-1-2@s uk-child-width-1-3@m" uk-grid="masonry: true">
        <div>
            <div class="uk-card " id="item1">
                <p class="card-title">Currently trending</p>
                <div id="scrollWrapper1"></div>
            </div>
        </div>
        <div>
            <div class="uk-card">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc vitae faucibus odio. Praesent sit amet finibus lorem, ultricies dignissim turpis. Phasellus a consectetur orci, et egestas mi. Sed vitae viverra dui. Cras mi lorem, elementum eget velit id, consectetur sus</div>
        </div>
        <div>
            <div class="uk-card">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc vitae faucibus odio. Praesent sit amet finibus lorem, ultricies dignissim turpis. .</div>
        </div>
        <div>
            <div class="uk-card">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc vitae faucibus odio. Praesent sit amet finibus lorem, ultricies dignissim turpis. Phasellus a consectetur orci, et egestas mi. Sed vitae viverra dui. Cras mi lorem, elementum eget velit id, consectetur suscipit tellus. Suspendisse eu diam at ipsum blandit consequat. Ut molestie posuere lacus varius commodo. Nam eu erat libero. Fusce interdum sagittis est, at iaculis purus condimentum eget. .</div>
        </div>
        <div>
            <div class="uk-card">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc vitae faucibus odio. Praesent sit amet finibus lorem, ultricies dignissim turpis. Phasellus a consectetur orci, et egestas mi. Sed vitae viverra dui. Cras mi lorem, elementum eget velit id, consectetur suscipit tellus. Suspendisse eu diam at ipsum blandit consequat. Ut molestie posuere lacus varius commodo. Nam eu erat libero. Fusce interdum sagittis est, at iaculis purus condimentum eget. Quisque a rutrum diam. Phasellus vehicula ligula eu enim efficitur, quis cursus lectus sagittis. Mauris quam velit, viverra id tempor quis, sodales vel enim. Praesent turpis est, posuere sit amet velit vel, tristique viverra nisi. Donec mollis, metus non pulvinar molestie, arcu augue molestie eros, eu egestas mi velit eget mauris.</div>
        </div>
        <div>
            <div class="uk-card">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</div>
        </div>
        <div>
            <div class="uk-card">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc vitae faucibus odio. Praesent sit amet finibus lorem, ultricies dignissim turpis. Phasellus a consectetur orci, et egestas mi. Sed vitae viverra dui. Cras mi lorem, elementum eget velit id, consectetur suscipit tellus. Suspendisse eu diam at ipsum blandit consequat. Ut molestie posuere lacus varius commodo. Nam eu erat libero. Fusce interdum sagittis est, at iaculis purus condimentum eget. Quisque a rutrum diam. Phasellus vehicula ligula eu enim efficitur, quis cursus lectus sagittis. Mauris quam velit, viverra id tempor quis, sodales vel enim. Praesent turpis est, posuere sit amet velit vel, tristique viverra nisi. Donec mollis, metus non pulvinar molestie, arcu augue molestie eros, eu egestas mi velit eget mauris. Sed nec mi varius, pretium lorem id, tempus lorem. Etiam sit amet fermentum magna, vel pulvinar orci.</div>
        </div>
    </div>
</div>
</body>

</html>
